{"version":3,"sources":["feature/buttonSlice.ts","components/HomePage.tsx","feature/productSlice.ts","components/ProductDetail.tsx","components/Header.tsx","components/Form.tsx","App.tsx","reportWebVitals.ts","app/store.ts","index.tsx"],"names":["ButtonSlice","createSlice","name","initialState","toggle","save","edit","reducers","toggleSaveButton","state","action","payload","toggleEditButton","actions","HomePage","products","onAddToCart","search","productsSelector","useSelector","item","dispatch","useDispatch","history","useHistory","filteredProducts","useMemo","filter","product","title","includes","description","toLocaleLowerCase","className","map","to","id","src","image","alt","data-testid","category","price","toLocaleString","style","currency","onClick","evt","preventDefault","replace","c","crypto","getRandomValues","Uint8Array","toString","console","log","push","ProductSlice","AddProduct","UpdateProduct","forEach","index","DeleteProduct","splice","ProductDetail","useParams","find","p","parseInt","useState","isDisabled","disabled","pathname","type","Header","cart","onClearCart","onSetSearch","total","reduce","Number","placeholder","value","onChange","target","length","Form","useLocation","split","inputRef","useRef","useEffect","current","focus","testSelector","initialData","uuid","substr","buttonReducer","errorMessage","setErrorMessage","data","setData","handleInputChange","e","onSubmit","a","tag","setTimeout","handeleAdd","handeleUpdate","handeleDelete","data-tooltip","htmlFor","ref","App","useLocalStorage","setCart","setProducts","gsproducts","gproducts","useCallback","location","setSearch","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","productReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6ea44c09.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface ButtonToggle {\n  save: boolean,\n  edit: boolean\n}\n\nexport interface ButtonState {\n  toggle: ButtonToggle;\n}\n\n\nconst initialState: ButtonState = {\n  toggle: {save: true, edit: true},\n};\n\nexport const ButtonSlice = createSlice({\n  name: \"button\",\n  initialState,\n  reducers: {\n    toggleSaveButton: (state, action: PayloadAction<boolean>) => {\n      state.toggle[\"save\"]=(action.payload);\n      state.toggle[\"edit\"]=(!action.payload);\n    },\n    toggleEditButton: (state, action: PayloadAction<boolean>) => {\n      state.toggle[\"edit\"]=(action.payload);\n      state.toggle[\"save\"]=(!action.payload);\n    },\n  },\n});\n\nexport const { toggleSaveButton, toggleEditButton } = ButtonSlice.actions;\n\nexport default ButtonSlice.reducer;\n","import React, { useMemo } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { toggleEditButton } from \"../feature/buttonSlice\";\nimport type { Product } from \"../product\";\nimport { RootState } from \"../app/store\";\nimport \"./HomePage.css\";\n\nexport const HomePage: React.FunctionComponent<{\n  products: Product[];\n  onAddToCart: (product: Product) => void;\n  search: string;\n}> = ({ products, onAddToCart, search }) => {\n  const productsSelector = useSelector(\n    (state: RootState) => state.products.item\n  );\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const filteredProducts = useMemo(\n    () =>\n      (productsSelector ?? []).filter(\n        (product) =>\n          product.title\n            .includes(search) ||\n          product.description\n            .toLocaleLowerCase()\n            .includes(search)\n      ),\n    [productsSelector, search]\n  );\n\n  const handleAddForm = () => {\n    console.log('Your button was clicked and is now disabled');\n    dispatch(toggleEditButton(true));\n    history.push(\"/form\")\n  }\n\n  let uuid = () => {\n    return (`[1e7]+-1e3+-4e3+-8e3+-1e11`).replace(/[018]/g, (c: any) =>\n      (c ^ (crypto.getRandomValues(new Uint8Array(1))[0] & 15) >> c / 4).toString(16)\n    );\n  }\n\n  return (\n    <div className=\"grid-container\">\n      {filteredProducts?.map((product) => (\n        <Link\n          to={`/detail/${product.id}`}\n          key={uuid()}\n          className=\"flex-cart m-2 border border-1 border-green-600 rounded-t-lg bg-green-600\"\n        >\n          <h3 className=\"title font-bold truncate w-full max-w-full py-2 px-4 text-white\">\n            {product.title}\n          </h3>\n          <div className=\"bg-white p-3\">\n            <div className=\"w-full flex justify-center\">\n              <img src={product.image} alt={product.title} data-testid={`img-${product.id}`}/>\n            </div>\n            <div className=\"bg-white p-3\">\n              <div className=\"w-full flex justify-center\">\n                {product.description}\n              </div>\n              <div className=\"flex-container\">\n                <div className=\"text-md mt-1\">{product.category}</div>\n                <div className=\"text-lg text-right flex-grow justify-end mt-1 mr-4 font-bold\">\n                  {product?.price.toLocaleString(\"en-US\", {\n                    style: \"currency\",\n                    currency: \"USD\",\n                  })}\n                </div>\n                <button\n                data-testid={`btn-${product.id}`}\n                  onClick={(evt) => {\n                    evt.preventDefault();\n                    onAddToCart(product);\n                  }}\n                  className=\"btn\"\n                >\n                  <i className=\"fas fa-cart-plus mr-2\"></i>\n                  Add To Cart\n                </button>\n              </div>\n              </div>\n          </div>\n        </Link>\n      ))}\n  <footer>\n    <div onClick={handleAddForm} className=\"fab\"></div>\n  </footer>\n    </div>\n  );\n};\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport type { Product } from \"../product\";\nimport products from \"../products.json\"\n\nexport interface ProductState {\n  item: Product[];\n}\n\n\nconst initialState: ProductState = {\n  item: products,\n};\n\nexport const ProductSlice = createSlice({\n  name: \"product\",\n  initialState,\n  reducers: {\n    AddProduct: (state, action: PayloadAction<Product>) => {\n      state.item.push(action.payload);\n    },\n    UpdateProduct: (state, action: PayloadAction<Product>) => {\n      state.item.forEach( (item, index) => {\n        if(item.id === action.payload.id) state.item[index] = {...item, ...action.payload};\n      })\n    },\n    DeleteProduct: (state, action: PayloadAction<Product>) => {\n      state.item.forEach( (item, index) => {\n        if(item.id === action.payload.id) state.item.splice(index,1);\n      })\n    },\n  },\n});\n\nexport const { AddProduct, DeleteProduct, UpdateProduct } = ProductSlice.actions;\n\nexport default ProductSlice.reducer;\n","import React, { useMemo, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport type { Product } from \"../product\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { RootState } from \"../app/store\";\nimport { DeleteProduct } from \"../feature/productSlice\";\nimport { toggleSaveButton } from \"../feature/buttonSlice\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const ProductDetail: React.FunctionComponent<{\n    products: Product[];\n    onAddToCart: (product: Product) => void;\n}> = ({ products, onAddToCart}) => {\n    const { id } = useParams<{id: string; }>();\n    const productsSelector = useSelector(\n        (state: RootState) => state.products.item\n      );\n\n    const dispatch = useDispatch();\n    const product = useMemo(\n        () => (productsSelector ?? []).find((p) => p.id === parseInt(id)),\n        [productsSelector, id]\n    );\n\n    const history = useHistory();\n        const [isDisabled, setDisabled] = useState(false);\n        \n        const handleAddForm = () => {\n          console.log('Your button was clicked and is now disabled');\n          dispatch(toggleSaveButton(true));\n            history.push({\n                pathname: '/form',\n                search: `?id=${id}`,\n                state: {product} \n              })\n        }\n\n    return (\n        <div className=\"p-10\">\n        {product && (\n        <>\n            <h3 className=\"title font-bold text-3xl truncate w-full max-w-full mb-2\">\n            {product.title}\n            </h3>\n            <div className=\"grid grid-cols-2 gap-10\">\n            <div className=\"w-full flex justify-center\">\n                <img\n                src={product.image}\n                alt={product.title}\n                className=\"text-center\"\n                />\n            </div>\n            <div className=\"flex-cart\">\n                <div>\n                <div className=\"text-lg overflow-ellipsis description\">\n                    {product.description}\n                </div>\n                <div className=\"flex flex-row mt-2\">\n                    <div className=\"text-md mt-1\">{product.category}</div>\n            <div className=\"text-2xl text-right flex-grow justify-end mt-1 mr-4\">\n                {product?.price.toLocaleString(\"en-US\", {\n                style: \"currency\",\n                currency: \"USD\",\n                    })}\n            </div>\n                    <button\n                    data-testid=\"detail-btn\"\n                    onClick={(evt) => {\n                        evt.preventDefault();\n                        onAddToCart(product);\n                    }}\n                    className=\"btn\"\n                    >\n                    <i className=\"fas fa-cart-plus mr-2\"></i>\n                    Add To Cart\n                    </button>\n                </div>\n                <div className=\"flex-container\"> \n                <button  onClick={() => {\n                    dispatch(\n                        DeleteProduct({...product, id: product.id})\n                    );\n                    history.push(\"/\");\n                    }} className=\"btn\">Delete</button>\n                <button disabled={isDisabled}\n                    onClick={handleAddForm} className=\"btn\" type=\"submit\" >Edit</button>\n                </div>\n                </div>\n            </div>\n            </div>\n        </>\n        )}\n    </div>\n    );\n};\n","import React, { useMemo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport type { Product } from \"../product\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../app/store\";\nimport \"./Header.css\";\n\nexport const Header: React.FunctionComponent<{\n    cart: Product[];\n    onClearCart: () => void;\n    search: string;\n    onSetSearch: (search: string) => void;\n}> = ({ cart, onClearCart, search, onSetSearch }) => {\n    const total = useMemo(\n    () => (cart ? cart.reduce((total, p) => total + Number(p.price), 0) : 0),\n    [cart]\n    );\n  \n   const productsSelector = useSelector(\n    (state: RootState) => state.products.item\n  );\n  let uuid = () => {\n    return (`[1e7]+-1e3+-4e3+-8e3+-1e11`).replace(/[018]/g, (c: any) =>\n      (c ^ (crypto.getRandomValues(new Uint8Array(1))[0] & 15) >> c / 4).toString(16)\n    );\n  }\n  console.log(\"productsSelector:\", productsSelector)\nreturn (\n    <div className=\"header\">\n    <div onClick={()=>onSetSearch(\"\")} className=\"text-2xl px-10 py-2\">\n        <Link to=\"/\" data-testid=\"header\">\n        <i className=\"fas fa-shopping-basket mr-2\"></i>\n        Simple Grocery Store\n        </Link>\n    </div>\n    <div className=\"flex-grow\">\n        <input\n        type=\"text\"\n        placeholder=\"Search..\"\n        value={search}\n        onChange={(evt) => onSetSearch(evt.target.value)}\n        className=\"input p-2 text-xl  rounded-lg max-w-md w-96\"\n        />\n    </div>\n    <div className=\"px-10 py-2 justify-end has-tooltip cart-icon \">\n        <span className=\"tooltip cart\">\n        <div>Cart ({(cart ?? []).length})</div>\n        {cart?.map((product, index) => (\n        <div key={uuid()} className=\"flex flex-row my-2\">\n            <img src={product.image} alt={product.title} className=\"h-8 mr-2\" />\n            <h3 className=\"title text-md truncate flex-grow\">{product.title}</h3>\n            <div className=\"text-md text-right flex-grow justify-end ml-2\">\n                {product.price.toLocaleString(\"en-US\", {\n                style: \"currency\",\n                currency: \"USD\",\n                })}\n            </div>\n            </div>\n        ))}\n        <div className=\"flex\">\n            <button\n            data-testid=\"shopping-cart-btn\"\n            onClick={onClearCart}\n            className=\"text-md px-8 py-1 font-bold bg-green-800 text-white rounded-full\"\n            >\n            Clear Cart\n            </button>\n            <div className=\"text-md text-right flex-grow justify-end ml-2\">\n            {total.toLocaleString(\"en-US\", {\n                style: \"currency\",\n                currency: \"USD\",\n            })}\n            </div>\n        </div>\n        </span>\n        <div id=\"cart-total\" className=\"hint\" data-testid=\"Cart\">\n        \n        <span data-testid=\"cart-total\" className=\"notifications\" >{(cart ?? []).length}</span>\n        </div>\n    </div>\n    </div>\n);\n};","import React, { useState, useRef, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RootState } from \"../app/store\";\nimport { AddProduct, UpdateProduct, DeleteProduct } from \"../feature/productSlice\";\nimport type { Product } from \"../product\";\n\nimport \"./form.css\";\n\nfunction Form() {\n    const id = useLocation().search.split('=')[1];\n    const productsSelector = useSelector(\n      (state: RootState) => state.products.item.find((item: Product)=>{\n        return item.id === parseInt(id)\n    \n      })\n    );\n  \n      const inputRef = useRef<any>(null);\n      useEffect(() => {\n        inputRef.current.focus();\n      }, [])\n\n    const testSelector = useSelector(\n      (state: RootState) => state.products.item.find((item: Product)=>{\n        return item.id === parseInt(id)\n    \n      })\n    );\n\n    console.log(\"testSelector:\", testSelector)\n\n    const initialData: Product = {\n      id: '',\n      image: \"\",\n      price: '',\n      title: \"\",\n      category: \"\",\n      description: \"\"\n    }\n    \n    let uuid = () => {\n      return (crypto.getRandomValues(new Uint8Array(8))).toString().replace(/,/g, '').substr(1,16);\n    \n    }\n\n    const {save, edit} = useSelector(\n      (state: RootState) => state.buttonReducer.toggle\n    );\n\n    const [ errorMessage, setErrorMessage ] = useState('');\n\n    const [ data, setData ] = useState(productsSelector || initialData);\n    const dispatch = useDispatch();\n    const handleInputChange = (e: any) => {\n      const { name, value } = e.target\n      setData({\n          ...data,\n          [name]: value\n      })\n    }\n    \n    const onSubmit = async (e: React.FormEvent<EventTarget>, tag: number = 0) => {\n        e.preventDefault()\n        if(!data.image || !data.title || !data.category || !data.price) {\n          setErrorMessage(\"All Fields except description field are required\");\n          setTimeout(()=>{setErrorMessage(\"\");}, 2000)\n          return;\n        } \n        \n       if (tag === 1) {\n        data[\"id\"] = parseInt(uuid())\n        console.log(\"data:\", data, data.id)\n        setData(data)\n\n         handeleAdd(data)\n         setData(initialData);\n       } else if (tag === 2) {\n        setData(data);\n        if (!data.id) return;\n        handeleUpdate(data)\n       } else if (tag === 3) {\n        if (data.id === 0 || !data.id) return;\n        handeleDelete(data)\n       }\n        //history.push(\"/\");\n    }\n\n    const handeleAdd = (data: Product) => {\n      dispatch(\n        AddProduct(data)\n      );\n    }\n\n    const handeleUpdate = (data: Product) => {\n      dispatch(\n        UpdateProduct(data)\n      );\n    }\n\n    const handeleDelete = (data: Product) => {\n      dispatch(\n        DeleteProduct(data)\n      );\n    }\n   \n  return (\n    <main>\n    <form className=\"main-container\" onSubmit={onSubmit}>\n      <div className=\"form-box\">\n        <label data-tooltip=\"required field\" htmlFor=\"image\" >Image</label>\n        <input ref={inputRef as any} id=\"image\" name=\"image\" type=\"text\" value={data.image} onChange={(e)=>handleInputChange(e)}/>\n      </div>\n      <div className=\"form-box\">\n        <label data-tooltip=\"required field\" htmlFor=\"price\">Price</label>\n        <input id=\"price\" name=\"price\" type=\"text\" value={data.price} onChange={(e)=>handleInputChange(e)}/>\n      </div>\n      <div className=\"form-box\">\n        <label data-tooltip=\"required field\" htmlFor=\"title\">Title</label>\n        <input id=\"title\" name=\"title\" type=\"text\" value={data.title} onChange={(e)=>handleInputChange(e)}/>\n      </div>\n      <div className=\"form-box\">\n        <label data-tooltip=\"required field\" htmlFor=\"category\">Category</label>\n        <input id=\"category\" name=\"category\" type=\"text\" value={data.category} onChange={(e)=>handleInputChange(e)}/>\n      </div>\n      <div className=\"form-box\">\n        <label htmlFor=\"description\">Description</label>\n        <textarea id=\"description\" name=\"description\" value={data.description} onChange={(e)=>handleInputChange(e)} ></textarea>\n      </div>\n      {errorMessage&&<p className=\"error\">{errorMessage}</p>}\n      <div className=\"flex-container\"> \n      <button  disabled={save} className=\"btn\" style={{ filter: save ? \"blur(3px)\" : \"none\"}} type=\"submit\" onClick={(e)=>onSubmit(e, 1)}>Save</button>\n      <button disabled={edit} className=\"btn\" style={{ filter: edit ? \"blur(3px)\" : \"none\"}} type=\"submit\" onClick={(e)=>onSubmit(e, 2)}>Update</button>\n      {/* <button className=\"btn\" type=\"submit\" onClick={(e)=>onSubmit(e, 3)}>Delete</button> */}\n      </div>\n    </form>\n    </main>\n  );\n}\nexport default Form;","import { useEffect, useState, useCallback } from \"react\";\nimport { useLocalStorage } from \"react-use\";\nimport { Switch, Route, useHistory, useLocation } from \"react-router-dom\";\n\nimport type { Product } from \"./product\";\nimport { HomePage } from \"./components/HomePage\";\nimport { ProductDetail } from \"./components/ProductDetail\";\nimport { Header } from \"./components/Header\";\nimport  Form  from \"./components/Form\";\nimport gproducts from \"./products.json\"\n\nfunction App() {\n  const [cart, setCart] = useLocalStorage<Product[]>(\"cart\", []);\n  const [products, setProducts] = useState<Product[]>([]);\n  let gsproducts: Product[] = gproducts;\n \n  const onAddToCart = useCallback(\n    (product: Product) => {\n      setCart([...(cart ?? []), product]);\n    },\n    [cart, setCart]\n  );\n  const onClearCart = useCallback(() => {\n    setCart([]);\n  }, [setCart]);\n\n  useEffect(() => {\n    setProducts(gsproducts)\n  }, [gsproducts]);\n\n  const history = useHistory();\n  const location = useLocation();\n  const [search, setSearch] = useState(\"\");\n  const onSetSearch = useCallback(\n    (search: string) => {\n      setSearch(search);\n      if (location.pathname !== \"/\") {\n        history.push(\"/\");\n      }\n    },\n    [setSearch, history, location]\n  );\n\n  return (\n    <div>\n      <Header\n      cart={cart ?? []}\n      onClearCart={onClearCart}\n      search={search}\n      onSetSearch={onSetSearch}\n      />\n      <Switch>\n        <Route exact path=\"/\">\n          <HomePage\n            products={products}\n            onAddToCart={onAddToCart}\n            search={search}\n          />\n        </Route>\n        <Route path=\"/form\">\n          <Form />\n        </Route>\n        <Route path=\"/detail/:id\">\n          <ProductDetail products={products} onAddToCart={onAddToCart}  />\n        </Route>\n\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport productReducer from \"../feature/productSlice\";\nimport buttonReducer from \"../feature/buttonSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    products: productReducer,\n    buttonReducer\n  },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { store } from \"./app/store\";\nimport { Provider } from \"react-redux\";\n    \nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n    <Provider store={store}>\n    <App />\n    </Provider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}